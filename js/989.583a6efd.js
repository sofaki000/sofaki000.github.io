"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[989],{4987:(e,t,o)=>{o.d(t,{F3:()=>h,Jy:()=>b,Od:()=>m,S2:()=>p,dj:()=>u});var a=o(7141),n=o(4747),i=o(7943);const l={apiKey:"AIzaSyDfbLdl6wOGf_3uPYvVbhoqdcWIiIlz6HY",authDomain:"docsfirstdb.firebaseapp.com",projectId:"docsfirstdb",storageBucket:"docsfirstdb.appspot.com",messagingSenderId:"371977791028",appId:"1:371977791028:web:62e6a26b5a34ba948ecc61",databaseURL:"https://docsfirstdb-default-rtdb.europe-west1.firebasedatabase.app/"},s="incidents",r="violations",d=(0,a.ZF)(l),c=(0,n.N8)(d);function u(e){const t=e.id;(0,n.t8)((0,n.iH)(c,`${s}/`+t),e)}function m(e){console.log("adding:"),console.log(e);const t=e.id;(0,n.t8)((0,n.iH)(c,`${r}/`+t),e)}async function p(){const e=(0,n.iH)((0,n.N8)());let t=[];return await(0,n.U2)((0,n.iU)(e,r)).then((e=>{e.exists()?(t=e.val(),console.log(t)):console.log("No data available")})).catch((e=>{console.error(e)})),i.h.initializeViolations(t),t}async function b(e){const t=e.id;(0,n.Od)((0,n.iH)(c,`${r}/`+t),e)}async function h(){const e=(0,n.iH)((0,n.N8)());let t=[{name:"aaa"}];return await(0,n.U2)((0,n.iU)(e,s)).then((e=>{e.exists()?t=e.val():console.log("No data available")})).catch((e=>{console.error(e)})),i.h.initializeIncidents(t),t}},7943:(e,t,o)=>{o.d(t,{h:()=>n});var a=o(499);const n=(0,a.qj)({incidents:[],violations:[],initializeIncidents(e){this.incidents=e,console.log(this.incidents)},addIncident(e){this.incidents.append(e)},initializeViolations(e){this.violations=e,console.log(this.violations)},addViolation(e){this.violation.append(e)}})},5989:(e,t,o)=>{o.r(t),o.d(t,{default:()=>K});var a=o(9835);function n(e,t,o,n,i,l){const s=(0,a.up)("violation-tabs"),r=(0,a.up)("create-violation"),d=(0,a.up)("q-btn"),c=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(c,{class:"q-pa-xs flex justify-center items-start"},{default:(0,a.w5)((()=>[i.createViolationForm?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(s,{key:0,onTabChanged:l.tabChanged},null,8,["onTabChanged"])),i.createViolationForm?((0,a.wg)(),(0,a.j4)(r,{key:1,onOnCreateViolationCancel:l.cancelViolationCreation},null,8,["onOnCreateViolationCancel"])):(0,a.kq)("",!0),i.createViolationForm||"violated"==i.tab?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(d,{key:2,color:"primary",onClick:l.createViolation,label:"Create violation"},null,8,["onClick"]))])),_:1})}var i=o(7943),l=o(4987);const s={class:"q-pa-md q-mt-xl",style:{width:"100%"}},r={class:"q-mt-xl"};function d(e,t,o,n,i,l){const d=(0,a.up)("q-input"),c=(0,a.up)("q-btn"),u=(0,a.up)("q-form");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(u,{onSubmit:l.onSubmitViolation,onReset:l.onReset,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{filled:"",modelValue:i.reason,"onUpdate:modelValue":t[0]||(t[0]=e=>i.reason=e),label:"Violation reason",hint:"Briefly describe the reason you want to submit a violation","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,a.Wm)(d,{filled:"",modelValue:i.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.description=e),label:"Description","lazy-rules":""},null,8,["modelValue"]),(0,a._)("div",r,[(0,a.Wm)(c,{label:"Submit",type:"submit",color:"primary"}),(0,a.Wm)(c,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),(0,a.Wm)(c,{label:"Cancel",type:"cancel",onClick:l.onCancel,bordered:"",class:"q-ml-sm"},null,8,["onClick"])])])),_:1},8,["onSubmit","onReset"])])}const c={data(){return{reason:"",description:"",store:i.h}},computed:{numberOfViolations(){return Object.keys(this.store.violations).length}},methods:{onCancel(){this.$emit("onCreateViolationCancel")},onSubmitViolation(){if(this.numberOfViolations<10){const e={id:Math.floor(100*Math.random()),reason:this.reason,description:this.description,location:"Thessaloniki",date:Date.now(),status:0};(0,l.Od)(e),this.$q.notify({message:"Violation submitted successfully!",color:"primary"}),this.$emit("onCreateViolationCancel")}else this.$q.notify({message:"Sorry, you cannot submit more than 10 violations!",color:"red"})},onReset(){this.reason=" ",this.description=" "}}};var u=o(1639),m=o(8326),p=o(2543),b=o(9379),h=o(9984),v=o.n(h);const g=(0,u.Z)(c,[["render",d]]),f=g;v()(c,"components",{QForm:m.Z,QInput:p.Z,QBtn:b.Z});const y={style:{width:"100%"}},w=(0,a._)("div",{class:"text-h6 q-mb-md"},"Reported",-1),V=(0,a._)("p",null,"All violations you have reported.",-1),q={key:0},k=(0,a._)("div",{class:"text-h6 q-mb-md"},"Violated",-1),C=(0,a._)("p",null,"All violations that have been issued against you.",-1),W=(0,a._)("div",null,"You have made no violations",-1);function Z(e,t,o,n,i,l){const s=(0,a.up)("q-tab"),r=(0,a.up)("q-tabs"),d=(0,a.up)("violations-component"),c=(0,a.up)("q-tab-panel"),u=(0,a.up)("q-separator"),m=(0,a.up)("q-tab-panels");return(0,a.wg)(),(0,a.iD)("div",y,[(0,a.Wm)(r,{style:{"background-color":"#1976d2"},modelValue:i.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>i.tab=e),"inline-label":"",class:"text-white shadow-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{style:{"background-color":"#1976d2"},name:"reported",label:"Reported"}),(0,a.Wm)(s,{style:{"background-color":"#1976d2"},name:"violated",label:"Violated"})])),_:1},8,["modelValue"]),(0,a.Wm)(m,{modelValue:i.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>i.tab=e),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{name:"reported"},{default:(0,a.w5)((()=>[w,V,0==l.numberOfViolations?((0,a.wg)(),(0,a.iD)("div",q," You have no reported violations ")):((0,a.wg)(),(0,a.j4)(d,{key:1,violations:i.store.violations},null,8,["violations"]))])),_:1}),(0,a.Wm)(c,{name:"violated"},{default:(0,a.w5)((()=>[k,C,(0,a.Wm)(u,{class:"q-ma-md"}),W])),_:1})])),_:1},8,["modelValue"])])}var _=o(6970);const j={style:{width:"100%"}};function Q(e,t,o,n,i,l){const s=(0,a.up)("q-item-label"),r=(0,a.up)("q-item-section"),d=(0,a.up)("q-btn"),c=(0,a.up)("q-item"),u=(0,a.up)("q-list"),m=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)("div",j,[(0,a.Wm)(u,{padding:"",class:"rounded-borders"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.violations,(t=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(c,{style:{"background-color":"#bbd3eb","margin-top":"12px"},key:t.name,clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,_.zw)(t.reason),1)])),_:2},1024),(0,a.Wm)(s,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,_.zw)(t.description)+" .",1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(r,{style:{padding:"0"},avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{outline:"",style:{color:"#e03f33"},label:"WITHDRAW",onClick:o=>e.deleteViolation(t)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)),[[m]]))),128))])),_:1})])}const I=(0,a.aZ)({name:"EssentialLink",props:{violations:{type:Array,required:!0}},methods:{deleteViolation(e){(0,l.Jy)(e),this.$q.notify({message:"Violation withdrew successfully",color:"red"}),(0,l.S2)()}}});var S=o(3246),x=o(490),O=o(1233),T=o(3115),U=o(1136);const z=(0,u.Z)(I,[["render",Q]]),D=z;v()(I,"components",{QList:S.Z,QItem:x.Z,QItemSection:O.Z,QItemLabel:T.Z,QBtn:b.Z}),v()(I,"directives",{Ripple:U.Z});const R={components:{violationsComponent:D},name:"IndexPage",mounted(){(0,l.S2)(),console.log("here"),console.log(this.store.violations)},computed:{numberOfViolations(){return Object.keys(this.store.violations).length}},watch:{tab(e,t){this.$emit("tabChanged",this.tab)}},data(){return{tab:"reported",violations:[],store:i.h}}};var F=o(8450),$=o(900),H=o(9800),P=o(4106),A=o(926);const B=(0,u.Z)(R,[["render",Z]]),L=B;v()(R,"components",{QTabs:F.Z,QTab:$.Z,QTabPanels:H.Z,QTabPanel:P.Z,QSeparator:A.Z});const N={components:{createViolation:f,violationTabs:L},data(){return{createViolationForm:!1,violations:[],store:i.h,tab:"reported"}},mounted(){(0,l.S2)()},methods:{tabChanged(e){this.tab=e,console.log(e)},cancelViolationCreation(){this.createViolationForm=!1},createViolation(){this.createViolationForm=!0}}};var Y=o(9885);const J=(0,u.Z)(N,[["render",n]]),K=J;v()(N,"components",{QPage:Y.Z,QBtn:b.Z})}}]);