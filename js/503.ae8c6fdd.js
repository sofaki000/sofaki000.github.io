"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[503],{4987:(e,t,n)=>{n.d(t,{F3:()=>v,Jy:()=>b,Od:()=>p,S2:()=>m,dj:()=>u});var i=n(7141),a=n(4747),s=n(7943);const o={apiKey:"AIzaSyDfbLdl6wOGf_3uPYvVbhoqdcWIiIlz6HY",authDomain:"docsfirstdb.firebaseapp.com",projectId:"docsfirstdb",storageBucket:"docsfirstdb.appspot.com",messagingSenderId:"371977791028",appId:"1:371977791028:web:62e6a26b5a34ba948ecc61",databaseURL:"https://docsfirstdb-default-rtdb.europe-west1.firebasedatabase.app/"},l="incidents",d="violations",c=(0,i.ZF)(o),r=(0,a.N8)(c);function u(e){const t=e.id;(0,a.t8)((0,a.iH)(r,`${l}/`+t),e)}function p(e){console.log("adding:"),console.log(e);const t=e.id;(0,a.t8)((0,a.iH)(r,`${d}/`+t),e)}async function m(){const e=(0,a.iH)((0,a.N8)());let t=[];return await(0,a.U2)((0,a.iU)(e,d)).then((e=>{e.exists()?(t=e.val(),console.log(t)):console.log("No data available")})).catch((e=>{console.error(e)})),s.h.initializeViolations(t),t}async function b(e){const t=e.id;(0,a.Od)((0,a.iH)(r,`${d}/`+t),e)}async function v(){const e=(0,a.iH)((0,a.N8)());let t=[{name:"aaa"}];return await(0,a.U2)((0,a.iU)(e,l)).then((e=>{e.exists()?(t=e.val(),console.log("FOUND INCIDENTS:"),console.log(t)):console.log("No data available")})).catch((e=>{console.error(e)})),s.h.initializeIncidents(t),t}},7943:(e,t,n)=>{n.d(t,{h:()=>a});var i=n(499);const a=(0,i.qj)({incidents:[],violations:[],initializeIncidents(e){this.incidents=e,console.log(this.incidents)},addIncident(e){this.incidents.append(e)},initializeViolations(e){this.violations=e,console.log(this.violations)},addViolation(e){this.violation.append(e)}})},5503:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var i=n(9835);const a=(0,i._)("div",{class:"text-h4 q-mb-md"},"Active Incidents",-1),s=(0,i._)("p",null,"All active incidents.",-1),o=(0,i._)("div",{class:"text-h4 q-mb-md"},"Past Incidents",-1),l=(0,i._)("p",null,"Past incidents",-1);function d(e,t,n,d,c,r){const u=(0,i.up)("q-tab"),p=(0,i.up)("q-tabs"),m=(0,i.up)("incidents-component"),b=(0,i.up)("q-tab-panel"),v=(0,i.up)("q-tab-panels");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(p,{modelValue:c.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>c.tab=e),style:{"background-color":"#1976d2"},"inline-label":"",class:"text-white shadow-2"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{style:{"background-color":"#1976d2"},name:"active",label:"Active"}),(0,i.Wm)(u,{style:{"background-color":"#1976d2"},name:"resolved",label:"Past"})])),_:1},8,["modelValue"]),(0,i.Wm)(v,{modelValue:c.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>c.tab=e),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{name:"active"},{default:(0,i.w5)((()=>[a,s,(0,i.Wm)(m,{incidents:c.store.incidents},null,8,["incidents"])])),_:1}),(0,i.Wm)(b,{name:"resolved"},{default:(0,i.w5)((()=>[o,l,(0,i.Wm)(m,{incidents:c.store.incidents},null,8,["incidents"])])),_:1})])),_:1},8,["modelValue"])])}var c=n(7943),r=n(4987),u=n(6970);const p={style:{width:"100%"},class:"incidents-list"};function m(e,t,n,a,s,o){const l=(0,i.up)("q-item-label"),d=(0,i.up)("q-separator"),c=(0,i.up)("q-item-section"),r=(0,i.up)("q-item"),m=(0,i.up)("q-list"),b=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.iD)("div",p,[(0,i.Wm)(m,{padding:"",class:"rounded-borders"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.incidents,(t=>(0,i.wy)(((0,i.wg)(),(0,i.j4)(r,{key:t.name,style:{"background-color":"rgb(187, 211, 235)"},class:"flex row justify-start wrap q-mb-sm",clickable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,{overline:"",style:{"font-weight":"900"}},{default:(0,i.w5)((()=>[(0,i.Uk)("Type: "+(0,u.zw)(t.type?t.type:"not-specified"),1)])),_:2},1024),(0,i.Wm)(d,{class:"q-ma-sm"}),(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" day submitted: "+(0,u.zw)(e.getDaySubmitted(t.date)),1)])),_:2},1024),(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" time submitted: "+(0,u.zw)(e.getTime(t.date)),1)])),_:2},1024),(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Description: "+(0,u.zw)(t.description?t.description:"No description provided"),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)),[[b]]))),128))])),_:1})])}const b=(0,i.aZ)({name:"EssentialLink",props:{incidents:{type:Array,required:!0}},methods:{getDaySubmitted(e){var t=new Date(e).toLocaleDateString("el-GR");return t},getTime(e){const t=new Date(1e3*e);var n=t.getHours(),i="0"+t.getMinutes(),a=(t.getSeconds(),n+":"+i.substr(-2));return a}}});var v=n(1639),w=n(3246),g=n(490),f=n(1233),h=n(3115),y=n(926),_=n(1136),q=n(9984),I=n.n(q);const k=(0,v.Z)(b,[["render",m],["__scopeId","data-v-1e8bc459"]]),W=k;I()(b,"components",{QList:w.Z,QItem:g.Z,QItemSection:f.Z,QItemLabel:h.Z,QSeparator:y.Z}),I()(b,"directives",{Ripple:_.Z});const Z={components:{incidentsComponent:W},name:"IndexPage",mounted(){(0,r.F3)()},data(){return{tab:"active",incidents:[],store:c.h}}};var D=n(8450),U=n(900),z=n(9800),Q=n(4106);const S=(0,v.Z)(Z,[["render",d]]),T=S;I()(Z,"components",{QTabs:D.Z,QTab:U.Z,QTabPanels:z.Z,QTabPanel:Q.Z})}}]);