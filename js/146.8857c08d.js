"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[146],{4987:(e,n,t)=>{t.d(n,{F3:()=>b,Jy:()=>h,Od:()=>u,S2:()=>m,dj:()=>p});var i=t(7141),o=t(4747),a=t(7943);const s={apiKey:"AIzaSyDfbLdl6wOGf_3uPYvVbhoqdcWIiIlz6HY",authDomain:"docsfirstdb.firebaseapp.com",projectId:"docsfirstdb",storageBucket:"docsfirstdb.appspot.com",messagingSenderId:"371977791028",appId:"1:371977791028:web:62e6a26b5a34ba948ecc61",databaseURL:"https://docsfirstdb-default-rtdb.europe-west1.firebasedatabase.app/"},c="incidents",l="violations",d=(0,i.ZF)(s),r=(0,o.N8)(d);function p(e){const n=e.id;(0,o.t8)((0,o.iH)(r,`${c}/`+n),e)}function u(e){console.log("adding:"),console.log(e);const n=e.id;(0,o.t8)((0,o.iH)(r,`${l}/`+n),e)}async function m(){const e=(0,o.iH)((0,o.N8)());let n=[];return await(0,o.U2)((0,o.iU)(e,l)).then((e=>{e.exists()?(n=e.val(),console.log(n)):console.log("No data available")})).catch((e=>{console.error(e)})),a.h.initializeViolations(n),n}async function h(e){const n=e.id;(0,o.Od)((0,o.iH)(r,`${l}/`+n),e)}async function b(){const e=(0,o.iH)((0,o.N8)());let n=[{name:"aaa"}];return await(0,o.U2)((0,o.iU)(e,c)).then((e=>{e.exists()?(n=e.val(),console.log("FOUND INCIDENTS:"),console.log(n)):console.log("No data available")})).catch((e=>{console.error(e)})),a.h.initializeIncidents(n),n}},7943:(e,n,t)=>{t.d(n,{h:()=>o});var i=t(499);const o=(0,i.qj)({incidents:[],violations:[],initializeIncidents(e){this.incidents=e,console.log(this.incidents)},addIncident(e){this.incidents.append(e)},initializeViolations(e){this.violations=e,console.log(this.violations)},addViolation(e){this.violation.append(e)}})},6146:(e,n,t)=>{t.r(n),t.d(n,{default:()=>j});var i=t(9835);function o(e,n,t,o,a,s){const c=(0,i.up)("q-btn"),l=(0,i.up)("createIncidentForm"),d=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(d,{class:"flex justify-center"},{default:(0,i.w5)((()=>[a.openCreateIncidentForm?((0,i.wg)(),(0,i.j4)(l,{key:1,onOnCancelCreateIncident:s.cancelCreateIncident},null,8,["onOnCancelCreateIncident"])):((0,i.wg)(),(0,i.j4)(c,{key:0,color:"primary",onClick:s.createIncident,style:{"max-height":"40px"},class:"q-mt-xl",label:"Create incident"},null,8,["onClick"]))])),_:1})}var a=t(4987),s=t(6970);const c={class:"q-pa-md q-mt-xl",style:{width:"100%"}},l=(0,i._)("p",{style:{"font-weight":"400"}},"Incident type",-1),d={class:"q-mt-xl"};function r(e,n,t,o,a,r){const p=(0,i.up)("q-input"),u=(0,i.up)("q-chip"),m=(0,i.up)("q-btn"),h=(0,i.up)("q-form");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(h,{onSubmit:r.onSubmitIncident,onReset:r.onReset,class:"q-gutter-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{filled:"",modelValue:e.reason,"onUpdate:modelValue":n[0]||(n[0]=n=>e.reason=n),label:"Your Location",hint:"location is calculated based on your current location",readonly:""},null,8,["modelValue"]),(0,i.Wm)(p,{filled:"",modelValue:a.description,"onUpdate:modelValue":n[1]||(n[1]=e=>a.description=e),label:"Description","lazy-rules":""},null,8,["modelValue"]),(0,i._)("div",null,[l,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.categories,(e=>((0,i.wg)(),(0,i.j4)(u,{key:e,size:"14px",clickable:"",style:(0,s.j5)(e==a.incidentType?{"background-color":"#e76d64"}:{"background-color":""}),onClick:n=>r.onChipClick(e)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e),1)])),_:2},1032,["style","onClick"])))),128))]),(0,i._)("div",d,[(0,i.Wm)(m,{label:"Submit",style:{},type:"submit",color:"primary"}),(0,i.Wm)(m,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),(0,i.Wm)(m,{label:"Cancel",type:"cancel",onClick:r.onCancel,bordered:"",class:"q-ml-sm"},null,8,["onClick"])])])),_:1},8,["onSubmit","onReset"])])}var p=t(7943);const u={data(){return{description:"",store:p.h,incidentType:"",categories:["επιληψία","τροχαιο","καρδια","αιμοραγια","άλλο"]}},computed:{numberOfIncidents(){return Object.keys(this.store.incidents).length}},methods:{onCancel(){this.$emit("onCancelCreateIncident")},onChipClick(e){this.incidentType=e},onSubmitIncident(){if(this.incidentType){if(this.numberOfIncidents<10){const e={id:Math.floor(100*Math.random()),type:this.incidentType,description:this.description,location:"Thessaloniki",date:Date.now(),status:0};(0,a.dj)(e),this.$q.notify({message:"Incident submitted successfully. Waiting for doctors response...",color:"primary"}),this.$emit("onCancelCreateIncident")}}else this.$q.notify({message:"Please provide an incident reason...",color:"red"})},onReset(){this.description=" ",this.incidentType=""}}};var m=t(1639),h=t(8326),b=t(2543),y=t(7691),g=t(9379),f=t(9984),I=t.n(f);const C=(0,m.Z)(u,[["render",r]]),k=C;I()(u,"components",{QForm:h.Z,QInput:b.Z,QChip:y.Z,QBtn:g.Z});const v={name:"IndexPage",components:{createIncidentForm:k},data(){return{openCreateIncidentForm:!1}},methods:{cancelCreateIncident(){this.openCreateIncidentForm=!1},createIncident(){this.openCreateIncidentForm=!this.openCreateIncidentForm,console.log("creating incident...")}}};var w=t(9885);const q=(0,m.Z)(v,[["render",o]]),j=q;I()(v,"components",{QPage:w.Z,QBtn:g.Z})}}]);